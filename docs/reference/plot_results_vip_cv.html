<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot variable importance scores — plot_results_vip_cv • learnMET</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot variable importance scores — plot_results_vip_cv" />
<meta property="og:description" content="Internal function of predict_trait_MET_cv().
This function plots variable importance scores if the compute_vip option is set to TRUE in predict_trait_MET_cv().
Plots are done at the CV scheme level from the , which means that:
If CV0 is evaluated, the plot shows the 40 most important variables according to the predicted element (i.e. site, year or environment).
For CV1 and CV2, variable importance plots are based on a average of the importance of each feature over all training/test splits.


Variable importance can be calculated based on model agnostic approaches (permutation-based methods, like for stacking_reg_1 or DL_reg), or
on model-specific methods (gain metric for GBDT methods xgb_reg)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">learnMET</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vignette_cv_stacking_indica.html">Evaluation of the model performance of a stacked model using CV0 on a rice dataset for phenotypic prediction</a>
    </li>
    <li>
      <a href="../articles/vignette_cv_xgb_indica.html">Evaluation of the performance of a XGBoost model using CV2 on a rice dataset for phenotypic prediction</a>
    </li>
    <li>
      <a href="../articles/vignette_getweatherdata.html">Create a METData object with weather data retrieved by nasapower</a>
    </li>
    <li>
      <a href="../articles/vignette_stacking.html">Overview on the different Machine Learning-based models in learnMET</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cjubin/learnMET/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot variable importance scores</h1>
    <small class="dont-index">Source: <a href='https://github.com/cjubin/learnMET/blob/master/R/plot_results_vip_functions.R'><code>R/plot_results_vip_functions.R</code></a></small>
    <div class="hidden name"><code>plot_results_vip_cv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Internal function of <code><a href='predict_trait_MET_cv.html'>predict_trait_MET_cv()</a></code>.<br />
This function plots variable importance scores if the <code>compute_vip</code> option is set to TRUE in <code><a href='predict_trait_MET_cv.html'>predict_trait_MET_cv()</a></code>.<br />
Plots are done at the CV scheme level from the , which means that:</p><ol>
<li><p>If CV0 is evaluated, the plot shows the 40 most important variables according to the predicted element (i.e. site, year or environment).</p></li>
<li><p>For CV1 and CV2, variable importance plots are based on a average of the importance of each feature over all training/test splits.</p></li>
</ol>

<p>Variable importance can be calculated based on model agnostic approaches (permutation-based methods, like for <code>stacking_reg_1</code> or <code>DL_reg</code>), or
on model-specific methods (gain metric for GBDT methods <code>xgb_reg</code>).</p>
    </div>

    <pre class="usage"><span class='fu'>plot_results_vip_cv</span><span class='op'>(</span>
  <span class='va'>fitting_all_splits</span>,
  <span class='va'>cv_type</span>,
  <span class='va'>cv0_type</span>,
  <span class='va'>path_folder</span>,
  <span class='va'>nb_folds_cv1</span>,
  <span class='va'>repeats_cv1</span>,
  <span class='va'>nb_folds_cv2</span>,
  <span class='va'>repeats_cv2</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fitting_all_splits</th>
      <td><p>a <code>list</code> which is the list of results from the fitting step on all train/test partitions</p></td>
    </tr>
    <tr>
      <th>cv_type</th>
      <td><p>A <code>character</code> with one out of <code>cv0</code> (prediction of new
environments), <code>cv00</code> (prediction of new genotypes in new environments),
<code>cv1</code> (prediction of new genotypes) or <code>cv2</code> (prediction of incomplete
field trials).</p></td>
    </tr>
    <tr>
      <th>cv0_type</th>
      <td><p>cv0_type A <code>character</code> with one out of
<code>leave-one-environment-out</code>, <code>leave-one-site-out</code>,<code>leave-one-year-out</code>,
<code>forward-prediction</code>.</p></td>
    </tr>
    <tr>
      <th>path_folder</th>
      <td><p>a <code>character</code> where the plots should be saved.</p></td>
    </tr>
    <tr>
      <th>nb_folds_cv1</th>
      <td><p>A <code>numeric</code> Number of folds used in the CV1 scheme.</p></td>
    </tr>
    <tr>
      <th>repeats_cv1</th>
      <td><p>A <code>numeric</code> Number of repeats in the CV1 scheme.</p></td>
    </tr>
    <tr>
      <th>nb_folds_cv2</th>
      <td><p>A <code>numeric</code> Number of folds used in the CV2 scheme.</p></td>
    </tr>
    <tr>
      <th>repeats_cv2</th>
      <td><p>A <code>numeric</code> Number of repeats in the CV2 scheme.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A variable importance plot is saved in the <code>path_folder</code>. No specific object returned.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Cathy C. Westhues <a href='mailto:cathy.jubin@uni-goettingen.de'>cathy.jubin@uni-goettingen.de</a></p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Cathy Westhues (Jubin).</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


